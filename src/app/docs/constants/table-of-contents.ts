import { TableOfContentsItem } from './types'

// Table of contents for get-started page
export const getStartedTableOfContents: TableOfContentsItem[] = [
    { label: 'Installation', anchor: '#installation' },
    { label: 'Basic Usage', anchor: '#basic-usage' },
]

// ==================== BACKGROUNDS ====================

// Table of contents for backgrounds pages with tab support
export const backgroundsSquareGridTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Copy source code', anchor: '#copy-source-code', tab: 'preview' },
    // Variants tab items
    { label: 'Simple Grid', anchor: '#simple-grid', tab: 'variants' },
    { label: 'Animated Grid', anchor: '#animated-grid', tab: 'variants' },
    { label: 'Responsive Grid', anchor: '#responsive-grid', tab: 'variants' },
]

export const backgroundsDottedGridTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Copy source code', anchor: '#copy-source-code', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Dotted Grid', anchor: '#basic-dotted-grid', tab: 'variants' },
    { label: 'Animated Dots', anchor: '#animated-dots', tab: 'variants' },
    { label: 'Custom Spacing', anchor: '#custom-spacing', tab: 'variants' },
]

export const backgroundParallaxGridTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Usage', anchor: '#usage', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Parallax Grid', anchor: '#basic-parallax-grid', tab: 'variants' },
    { label: 'Customized Grid', anchor: '#customized-grid', tab: 'variants' },
    { label: 'Interactive Grid', anchor: '#interactive-grid', tab: 'variants' },
]

export const backgroundParallaxDotTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Usage', anchor: '#usage', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Parallax Dots', anchor: '#basic-parallax-dots', tab: 'variants' },
    { label: 'Customized Dots', anchor: '#customized-dots', tab: 'variants' },
    { label: 'Interactive Dots', anchor: '#interactive-dots', tab: 'variants' },
]

// ==================== ANIMATIONS ====================

export const loopBadgeAnimationTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Usage', anchor: '#usage', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Badge', anchor: '#basic-badge', tab: 'variants' },
    { label: 'Custom Colors', anchor: '#custom-colors', tab: 'variants' },
    { label: 'Different Speeds', anchor: '#different-speeds', tab: 'variants' },
]

export const radiatingDotTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install RadiatingDot', anchor: '#install-radiatingdot', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Radiating Dot', anchor: '#radiating-dot', tab: 'preview' },
    // Variants tab items
    { label: 'Offline Radiating Dot', anchor: '#offline-radiating-dot', tab: 'variants' },
    { label: 'Default Radiating Dot', anchor: '#default-radiating-dot', tab: 'variants' },
    { label: 'Away Radiating Dot', anchor: '#away-radiating-dot', tab: 'variants' },
    { label: 'Busy Radiating Dot', anchor: '#busy-radiating-dot', tab: 'variants' },
    { label: 'Custom-Blue Radiating Dot', anchor: '#custom-blue-radiating-dot', tab: 'variants' },
    { label: 'Custom-Purple Radiating Dot', anchor: '#custom-purple-radiating-dot', tab: 'variants' },
    { label: 'Custom-Orange Radiating Dot', anchor: '#custom-orange-radiating-dot', tab: 'variants' },
]

export const animatedBorderTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Setup', anchor: '#setup', tab: 'preview' },
    { label: 'Component', anchor: '#component', tab: 'preview' },
    { label: 'Usage Example', anchor: '#usage-example', tab: 'preview' },
    // Variants tab items
    { label: 'Gradient Border', anchor: '#gradient-border', tab: 'variants' },
    { label: 'Pulsing Border', anchor: '#pulsing-border', tab: 'variants' },
    { label: 'Hover Effect', anchor: '#hover-effect', tab: 'variants' },
]

// ==================== CONTAINERS ====================

export const draggableContainerTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#installation', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Customization', anchor: '#customization', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Draggable', anchor: '#basic-draggable', tab: 'variants' },
    { label: 'With Constraints', anchor: '#with-constraints', tab: 'variants' },
    { label: 'With Inertia', anchor: '#with-inertia', tab: 'variants' },
]

export const cursorContainerTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#installation', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Props', anchor: '#props', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Cursor', anchor: '#basic-cursor', tab: 'variants' },
    { label: 'Delayed Follow', anchor: '#delayed-follow', tab: 'variants' },
    { label: 'Custom Cursor', anchor: '#custom-cursor', tab: 'variants' },
]

export const liquidGlassDraggableTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#installation', tab: 'preview' },
    { label: 'Implementation', anchor: '#implementation', tab: 'preview' },
    { label: 'Props', anchor: '#props', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Glass Effect', anchor: '#basic-glass-effect', tab: 'variants' },
]

// ==================== COUNTDOWN ====================

export const dotMatrixCountdownTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#installation', tab: 'preview' },
    { label: 'Component', anchor: '#component', tab: 'preview' },
    { label: 'Usage', anchor: '#usage', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Countdown', anchor: '#basic-countdown', tab: 'variants' },
    { label: 'Custom Colors', anchor: '#custom-colors', tab: 'variants' },
]

// ==================== TEXT ANIMATIONS ====================

export const motionTextRevealTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#installation', tab: 'preview' },
    { label: 'Component', anchor: '#component', tab: 'preview' },
    { label: 'Usage', anchor: '#usage', tab: 'preview' },
    // Variants tab items
    { label: 'Basic Text Reveal', anchor: '#basic-text-reveal', tab: 'variants' },
    { label: 'Staggered Reveal', anchor: '#staggered-reveal', tab: 'variants' },
    { label: 'Custom Animation', anchor: '#custom-animation', tab: 'variants' },
]

export const framerTextAnimationTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Framer Text Animation', anchor: '#install-framer-text-animation', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add Utility File', anchor: '#add-utility-file', tab: 'preview' },
    { label: 'Framer Text Animation Component', anchor: '#framer-text-animation-component', tab: 'preview' },
    // Variants tab items - grouped by type
    { label: 'Default', anchor: '#default', tab: 'variants', isHeading: true },
    
    // Basic Movement group
    { label: 'Fade Up', anchor: '#fade-up', tab: 'variants' },
    { label: 'Fade Down', anchor: '#fade-down', tab: 'variants' },
    { label: 'Slide Left', anchor: '#slide-left', tab: 'variants' },
    { label: 'Slide Right', anchor: '#slide-right', tab: 'variants' },
    
    // Scale & Transform group
    { label: 'Scale', anchor: '#scale', tab: 'variants' },
    { label: 'Zoom', anchor: '#zoom', tab: 'variants' },
    { label: 'Bounce', anchor: '#bounce', tab: 'variants' },
    
    // 3D Rotation group
    { label: 'Flip X', anchor: '#flip-x', tab: 'variants' },
    { label: 'Flip Y', anchor: '#flip-y', tab: 'variants' },
    { label: 'Rotate', anchor: '#rotate', tab: 'variants' },
    
    // Creative Effect group
    { label: 'Wave', anchor: '#wave', tab: 'variants' },
    { label: 'Skew', anchor: '#skew', tab: 'variants' },
    { label: 'Spiral', anchor: '#spiral', tab: 'variants' },
    
    // Speed Variants
    { label: 'Quick', anchor: '#quick', tab: 'variants' },
    { label: 'Slow', anchor: '#slow', tab: 'variants' },
    
    // Special Effects
    { label: 'Typewriter', anchor: '#typewriter', tab: 'variants' },
    { label: 'Glitch', anchor: '#glitch', tab: 'variants' },
    
    // Word-based Animations
    { label: 'Fade Up Words', anchor: '#fade-up-words', tab: 'variants' },
    { label: 'Bounce Words', anchor: '#bounce-words', tab: 'variants' },
    { label: 'Flip Words', anchor: '#flip-words', tab: 'variants' },
    { label: 'Wave Words', anchor: '#wave-words', tab: 'variants' },
    
    // Speed Combinations
    { label: 'Fast Fade Up', anchor: '#fast-fade-up', tab: 'variants' },
    { label: 'Slow Bounce', anchor: '#slow-bounce', tab: 'variants' },
    
    // Styled Variants
    { label: 'Gradient', anchor: '#gradient', tab: 'variants' },
    { label: 'Neon Glow', anchor: '#neon-glow', tab: 'variants' },
    
    // Layout Variants
    { label: 'Multi Line', anchor: '#multi-line', tab: 'variants' },
    { label: 'Hero Text', anchor: '#hero-text', tab: 'variants' },
    { label: 'Button Text', anchor: '#button-text', tab: 'variants' },
]

// ==================== OTHER ====================

export const comingSoonTableOfContents: TableOfContentsItem[] = [
    { label: 'Coming Soon', anchor: '#coming-soon' },
]

export const installTailwindCssTableOfContents: TableOfContentsItem[] = [
    { label: 'Installation', anchor: '#installation' },
    { label: 'Configuration', anchor: '#configuration' },
    { label: 'Usage', anchor: '#usage' },
]

// Map of page slugs to their table of contents
export const pageTableOfContents: Record<string, TableOfContentsItem[]> = {
    'get-started': getStartedTableOfContents,
    'install-tailwindcss': installTailwindCssTableOfContents,

    // Backgrounds pages
    'backgrounds-squaregrid': backgroundsSquareGridTableOfContents,
    'backgrounds-dottedgrid': backgroundsDottedGridTableOfContents,
    'backgrounds-parallaxgrid': backgroundParallaxGridTableOfContents,
    'backgrounds-parallaxdot': backgroundParallaxDotTableOfContents,

    // Animations
    'loopbadge-animation': loopBadgeAnimationTableOfContents,
    'radiating-dot': radiatingDotTableOfContents,
    'animated-border': animatedBorderTableOfContents,

    // Containers
    'draggable-container': draggableContainerTableOfContents,
    'cursor-container': cursorContainerTableOfContents,
    'draggable-liquid-glass': liquidGlassDraggableTableOfContents,

    // Countdown
    'dot-martix-countdown': dotMatrixCountdownTableOfContents,

    // Text animations
    'motion-text-reveal': motionTextRevealTableOfContents,
    'framer-text-animation': framerTextAnimationTableOfContents,

    // Other
    'coming-soon': comingSoonTableOfContents,
}

// Helper function to get table of contents for a specific page
export const getTableOfContents = (slug: string): TableOfContentsItem[] => {
    return pageTableOfContents[slug] || []
}

// Helper function to get table of contents filtered by tab
export const getTabSpecificTableOfContents = (slug: string, tab: 'preview' | 'variants'): TableOfContentsItem[] => {
    const allItems = pageTableOfContents[slug] || [];
    return allItems.filter(item => !item.tab || item.tab === tab);
}

// Helper function to scroll to a specific section with improved handling
export const scrollToSection = (anchor: string): void => {
    if (!anchor) return;
    
    // Make sure anchor starts with #
    const normalizedAnchor = anchor.startsWith('#') ? anchor : `#${anchor}`;
    
    try {
        const element = document.querySelector(normalizedAnchor);
        
        if (element) {
            // Add a small delay to ensure the DOM has updated
            setTimeout(() => {
                // Scroll with smooth behavior
                element.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
                
                // Set focus to the element for accessibility
                (element as HTMLElement).focus({ preventScroll: true });
                
                // Add URL hash for deep linking without scrolling
                if (history && history.pushState) {
                    history.pushState(null, '', normalizedAnchor);
                }
            }, 100);
        } else {
            console.warn(`Element with selector "${normalizedAnchor}" not found in the DOM`);
        }
    } catch (error) {
        console.error(`Error scrolling to section ${normalizedAnchor}:`, error);
    }
}
