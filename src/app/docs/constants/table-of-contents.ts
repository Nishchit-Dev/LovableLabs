import { TableOfContentsItem } from './types'

// Table of contents for get-started page
export const getStartedTableOfContents: TableOfContentsItem[] = [
    { label: 'Installation', anchor: '#installation' },
    { label: 'Basic Usage', anchor: '#basic-usage' },
]

// ==================== BACKGROUNDS ====================

// Table of contents for backgrounds pages with tab support
export const backgroundsSquareGridTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install GridBackground', anchor: '#install-gridbackground', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Square Grid Background', anchor: '#square-grid-background', tab: 'preview' },
    // Variants tab items
    { label: 'Dark Varaint', anchor: '#dark-varaint', tab: 'variants' },
    { label: 'Dark Varaint with Overlay', anchor: '#dark-varaint-with-overlay', tab: 'variants' },
]

export const backgroundsDottedGridTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install DottedGridContent', anchor: '#install-dottedgridcontent', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Dotted Background', anchor: '#dotted-background', tab: 'preview' },
    // Variants tab items
    { label: 'Dark Varaint', anchor: '#dark-varaint', tab: 'variants' },
    { label: 'Dark Varaint with Overlay', anchor: '#dark-varaint-with-overlay', tab: 'variants' },
]

export const parallaxGridBackgroundTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Parallax Grid', anchor: '#install-parallax-grid', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add Utility File', anchor: '#add-utility-file', tab: 'preview' },
    { label: 'Parallax Grid Background', anchor: '#parallax-grid-background', tab: 'preview' },
    // Variants tab items
    { label: 'Dark Varaint', anchor: '#dark-varaint', tab: 'variants' },
    { label: 'Dark Varaint with Overlay', anchor: '#dark-varaint-with-overlay', tab: 'variants' },
]

export const backgroundParallaxDotTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Parallax Dot', anchor: '#install-parallax-dot', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add Utility File', anchor: '#add-utility-file', tab: 'preview' },
    { label: 'Parallax Dot Background', anchor: '#parallax-dot-background', tab: 'preview' },
    // Variants tab items
    { label: 'Dark Varaint', anchor: '#dark-varaint', tab: 'variants' },
    { label: 'Dark Varaint with Overlay', anchor: '#dark-varaint-with-overlay', tab: 'variants' },
]

// ==================== ANIMATIONS ====================

export const loopBadgeAnimationTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install LoopBagde', anchor: '#install-loopbagde', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'LoopBadge Animation', anchor: '#loopbadge-animation', tab: 'preview' },
    // Variants tab items
    { label: 'Badge Variants', anchor: '#badge-variants', tab: 'variants', isHeading: true },
    { label: 'Basic Badge', anchor: '#basic-badge', tab: 'variants' },
    { label: 'Custom Colors', anchor: '#custom-colors', tab: 'variants' },
    { label: 'Different Speeds', anchor: '#different-speeds', tab: 'variants' },
]

export const radiatingDotTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install RadiatingDot', anchor: '#install-radiatingdot', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Radiating Dot', anchor: '#radiating-dot', tab: 'preview' },
    // Variants tab items
    { label: 'Dot Variations', anchor: '#dot-variations', tab: 'variants', isHeading: true },
    { label: 'Default', anchor: '#default', tab: 'variants' },
    { label: 'Away', anchor: '#away', tab: 'variants' },
    { label: 'Busy', anchor: '#busy', tab: 'variants' },
    { label: 'Custom Blue', anchor: '#custom-blue', tab: 'variants' },
    { label: 'Custom Orange', anchor: '#custom-orange', tab: 'variants' },
    { label: 'Custom Purple', anchor: '#custom-purple', tab: 'variants' },
    { label: 'Offline', anchor: '#offline', tab: 'variants' },
]

export const animatedBorderTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Animated Border', anchor: '#install-animated-border', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'AnimatedBorder Component', anchor: '#animatedborder-component', tab: 'preview' },
    
    // Variants tab items
    { label: 'Basic Usage', anchor: '#basic-usage', tab: 'variants' },
    { label: 'Gradient Border', anchor: '#gradient-border', tab: 'variants' },
    { label: 'Hover Effect', anchor: '#hover-effect', tab: 'variants' },
    { label: 'Custom Colors', anchor: '#custom-colors', tab: 'variants' },
    { label: 'With Shadow Effect', anchor: '#with-shadow-effect', tab: 'variants' },
    { label: 'Card Layout', anchor: '#card-layout', tab: 'variants' },
    { label: 'Button Variant', anchor: '#button-variant', tab: 'variants' },
]

// ==================== CONTAINERS ====================

export const draggableContainerTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install DragableContainer', anchor: '#install-dragablecontainer', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Draggable Container', anchor: '#draggable-container', tab: 'preview' },
    // Variants tab items
    { label: 'Draggable Types', anchor: '#draggable-types', tab: 'variants', isHeading: true },
    { label: 'Basic Draggable', anchor: '#basic-draggable', tab: 'variants' },
    { label: 'With Constraints', anchor: '#with-constraints', tab: 'variants' },
    { label: 'With Inertia', anchor: '#with-inertia', tab: 'variants' },
]

export const cursorContainerTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Cursor Follow Container', anchor: '#install-cursor-follow-container', tab: 'preview' },
    { label: 'Install Depsendencies', anchor: '#install-depsendencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Cursor Follow Container', anchor: '#cursor-follow-container', tab: 'preview' },
    // Variants tab items
    { label: 'Cursor Default', anchor: '#cursor-default', tab: 'variants' },
    { label: 'Cursor Minimal', anchor: '#cursor-minimal', tab: 'variants' },
    { label: 'Cursor Neon', anchor: '#cursor-neon', tab: 'variants' },
    { label: 'Cursor Elegant', anchor: '#cursor-elegant', tab: 'variants' },
]

export const liquidGlassDraggableTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Draggable Liquid Glass', anchor: '#install-draggable-liquid-glass', tab: 'preview' },
    { label: 'Draggable Liquid Glass Effect', anchor: '#draggable-liquid-glass-effect', tab: 'preview' },
    // Variants tab items
    { label: 'Usage', anchor: '#usage', tab: 'variants', isHeading: true },
]

// ==================== COUNTDOWN ====================

export const dotMatrixCountdownTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install CountdownTimer', anchor: '#install-countdowntimer', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add Utility File', anchor: '#add-utility-file', tab: 'preview' },
    { label: 'Dot Matrix Countdown Timer', anchor: '#dot-matrix-countdown-timer', tab: 'preview' },
    // Variants tab items
    { label: 'Light CountdownTimer', anchor: '#light-countdowntimer', tab: 'variants' },
    { label: 'Dark CountdownTimer', anchor: '#dark-countdowntimer', tab: 'variants' },
]

// ==================== TEXT ANIMATIONS ====================

export const motionTextRevealTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Installation', anchor: '#install-framer-text-reveal', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add util file', anchor: '#add-util-file', tab: 'preview' },
    { label: 'Motion Text Reveal', anchor: '#motion-text-reveal', tab: 'preview' },
    // Variants tab items
    { label: 'Reveal Effects', anchor: '#reveal-effects', tab: 'variants', isHeading: true },
    { label: 'Basic Text Reveal', anchor: '#basic-text-reveal', tab: 'variants' },
    { label: 'Staggered Reveal', anchor: '#staggered-reveal', tab: 'variants' },
    { label: 'Custom Animation', anchor: '#custom-animation', tab: 'variants' },
]

export const framerTextAnimationTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Framer Text Animation', anchor: '#install-framer-text-animation', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'Add Utility File', anchor: '#add-utility-file', tab: 'preview' },
    { label: 'Framer Text Animation Component', anchor: '#framer-text-animation-component', tab: 'preview' },
    // Variants tab items - grouped by type
    { label: 'Default', anchor: '#default', tab: 'variants', isHeading: true },
    
    // Basic Movement group
    { label: 'Fade Up', anchor: '#fade-up', tab: 'variants' },
    { label: 'Fade Down', anchor: '#fade-down', tab: 'variants' },
    { label: 'Slide Left', anchor: '#slide-left', tab: 'variants' },
    { label: 'Slide Right', anchor: '#slide-right', tab: 'variants' },
    
    // Scale & Transform group
    { label: 'Scale', anchor: '#scale', tab: 'variants' },
    { label: 'Zoom', anchor: '#zoom', tab: 'variants' },
    { label: 'Bounce', anchor: '#bounce', tab: 'variants' },
    
    // 3D Rotation group
    { label: 'Flip X', anchor: '#flip-x', tab: 'variants' },
    { label: 'Flip Y', anchor: '#flip-y', tab: 'variants' },
    { label: 'Rotate', anchor: '#rotate', tab: 'variants' },
    
    // Creative Effect group
    { label: 'Wave', anchor: '#wave', tab: 'variants' },
    { label: 'Skew', anchor: '#skew', tab: 'variants' },
    { label: 'Spiral', anchor: '#spiral', tab: 'variants' },
    
    // Speed Variants
    { label: 'Quick', anchor: '#quick', tab: 'variants' },
    { label: 'Slow', anchor: '#slow', tab: 'variants' },
    
    // Special Effects
    { label: 'Typewriter', anchor: '#typewriter', tab: 'variants' },
    { label: 'Glitch', anchor: '#glitch', tab: 'variants' },
    
    // Word-based Animations
    { label: 'Fade Up Words', anchor: '#fade-up-words', tab: 'variants' },
    { label: 'Bounce Words', anchor: '#bounce-words', tab: 'variants' },
    { label: 'Flip Words', anchor: '#flip-words', tab: 'variants' },
    { label: 'Wave Words', anchor: '#wave-words', tab: 'variants' },
    
    // Speed Combinations
    { label: 'Fast Fade Up', anchor: '#fast-fade-up', tab: 'variants' },
    { label: 'Slow Bounce', anchor: '#slow-bounce', tab: 'variants' },
    
    // Styled Variants
    { label: 'Gradient', anchor: '#gradient', tab: 'variants' },
    { label: 'Neon Glow', anchor: '#neon-glow', tab: 'variants' },
    
    // Layout Variants
    { label: 'Multi Line', anchor: '#multi-line', tab: 'variants' },
    { label: 'Hero Text', anchor: '#hero-text', tab: 'variants' },
    { label: 'Button Text', anchor: '#button-text', tab: 'variants' },
]

// ==================== SCROLL WAVES ====================

export const scrollWaveTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Scroll Waves', anchor: '#install-scroll-waves', tab: 'preview' },
    { label: 'Install Dependencies', anchor: '#install-dependencies', tab: 'preview' },
    { label: 'ScrollWaves of component', anchor: '#scrollwaves-of-component', tab: 'preview' },
    
    // Variants tab items - grouped by styles
    { label: 'Wave Styles', anchor: '#wave-styles', tab: 'variants', isHeading: true },
    { label: 'Classic Waveform', anchor: '#classic-waveform', tab: 'variants' },
    { label: 'Neon Glow Waveform', anchor: '#neon-glow-waveform', tab: 'variants' },
    { label: 'Minimal Monochrome', anchor: '#minimal-monochrome', tab: 'variants' },
    
    { label: 'Specialized Variants', anchor: '#specialized-variants', tab: 'variants', isHeading: true },
    { label: 'Thick Bars Waveform', anchor: '#thick-bars-waveform', tab: 'variants' },
    { label: 'Dense Frequency', anchor: '#dense-frequency', tab: 'variants' },
    { label: 'Audio Spectrum Style', anchor: '#audio-spectrum-style', tab: 'variants' },
]

// ==================== CURTAIN TRANSITION ====================

export const curtainTransitionTableOfContents: TableOfContentsItem[] = [
    // Preview tab items
    { label: 'Install Curtain Transition', anchor: '#install-curtain-transition', tab: 'preview' },
    { label: 'CurtainTransition Component', anchor: '#curtaintransition-component', tab: 'preview' },
    { label: 'Usage Example', anchor: '#usage-example', tab: 'preview' },
    
    // Variants tab items
    { label: 'Basic Usage', anchor: '#basic-usage', tab: 'variants' },
    { label: 'Custom Title', anchor: '#custom-title', tab: 'variants' },
    { label: 'Colored Curtain', anchor: '#colored-curtain', tab: 'variants' },
    { label: 'Fade Animation', anchor: '#fade-animation', tab: 'variants' },
    { label: 'Split Animation', anchor: '#split-animation', tab: 'variants' },
]

// ==================== OTHER ====================

export const comingSoonTableOfContents: TableOfContentsItem[] = [
    { label: 'Coming Soon', anchor: '#coming-soon' },
]

export const installTailwindCssTableOfContents: TableOfContentsItem[] = [
    { label: 'Installation', anchor: '#installation' },
    { label: 'Configuration', anchor: '#configuration' },
    { label: 'Usage', anchor: '#usage' },
]

// Map of page slugs to their table of contents
export const pageTableOfContents: Record<string, TableOfContentsItem[]> = {
    'get-started': getStartedTableOfContents,
    'install-tailwindcss': installTailwindCssTableOfContents,

    // Backgrounds pages
    'backgrounds-squaregrid': backgroundsSquareGridTableOfContents,
    'backgrounds-dottedgrid': backgroundsDottedGridTableOfContents,
    'backgrounds-parallaxgrid': parallaxGridBackgroundTableOfContents,
    'backgrounds-parallaxdot': backgroundParallaxDotTableOfContents,

    // Animations
    'loopbadge-animation': loopBadgeAnimationTableOfContents,
    'radiating-dot': radiatingDotTableOfContents,
    'animated-border': animatedBorderTableOfContents,

    // Containers
    'draggable-container': draggableContainerTableOfContents,
    'cursor-container': cursorContainerTableOfContents,
    'draggable-liquid-glass': liquidGlassDraggableTableOfContents,

    // Countdown
    'dot-martix-countdown': dotMatrixCountdownTableOfContents,

    // Text animations
    'motion-text-reveal': motionTextRevealTableOfContents,
    'framer-text-animation': framerTextAnimationTableOfContents,
    
    // Scroll Waves
    'scroll-wave': scrollWaveTableOfContents,

    // Curtain Transition
    'curtain-transition': curtainTransitionTableOfContents,

    // Other
    'coming-soon': comingSoonTableOfContents,
}

// Helper function to get table of contents for a specific page
export const getTableOfContents = (slug: string): TableOfContentsItem[] => {
    return pageTableOfContents[slug] || []
}

// Helper function to get table of contents filtered by tab
export const getTabSpecificTableOfContents = (slug: string, tab: 'preview' | 'variants'): TableOfContentsItem[] => {
    const allItems = pageTableOfContents[slug] || [];
    return allItems.filter(item => !item.tab || item.tab === tab);
}

// Helper function to scroll to a specific section with improved handling
export const scrollToSection = (anchor: string): void => {
    if (!anchor) return;
    
    // Make sure anchor starts with #
    const normalizedAnchor = anchor.startsWith('#') ? anchor : `#${anchor}`;
    
    try {
        const element = document.querySelector(normalizedAnchor);
        
        if (element) {
            // Add a small delay to ensure the DOM has updated
            setTimeout(() => {
                // Scroll with smooth behavior
                element.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
                
                // Set focus to the element for accessibility
                (element as HTMLElement).focus({ preventScroll: true });
                
                // Add URL hash for deep linking without scrolling
                if (history && history.pushState) {
                    history.pushState(null, '', normalizedAnchor);
                }
            }, 100);
        } else {
            console.warn(`Element with selector "${normalizedAnchor}" not found in the DOM`);
        }
    } catch (error) {
        console.error(`Error scrolling to section ${normalizedAnchor}:`, error);
    }
}
